function markingInitRemarkEdit(){window.L.openCom("oEditor");$("textarea[name='remark']").each(function(){(new oEditor({buttonList:"bold italic underline left center right justify ol ul fontSize fontFamily fontFormat image forecolor bgcolor table subscript superscript strikethrough removeformat hr media".split(" "),maxHeight:170,CustomConfig:{AnswerSelect:{AnswerType:"textbox"},oFileManager:{quickUploadDir:{img:img_quick_upload_dir,media:media_quick_upload_dir,attachment:attachment_quick_upload_dir},
browseDir:{img:img_browse_upload_dir,media:media_browse_upload_dir,attachment:attachment_browse_upload_dir}}}})).panelInstance(this.id)})}
function markingAlertMarking(b,a){var c={exam_id:$("#exam_id").val(),papr_id:$("#papr_id").val(),exam_times:$("#exam_times").val(),user_id:$("#user_id").val(),qsn_id:b,qsn_sub_id:a};validPositiveInt(c.exam_times)&&0<c.exam_times?QSN_SUB_DIV_MARK=oDialogDiv("\u8bc4\u5206","iframe:"+(window.L._adminUrl+"/paper/manualMarkingCtl.php?")+"{'get':{'a':'showMarkingQuestion'},'post':{'_pageTableParams':'"+L.JSON.stringify(c)+"'}}","800px","600px",[1],10,!0):oDialogDivInfo("\u53c2\u8003\u6b21\u6570\u5fc5\u987b\u4e3a\u6b63\u6574\u6570")}
function markingSaveMarking(b){var a=b.split("_"),c=$("input[name='answer_status_"+b+"']:checked").val(),d={exam_id:a[0],exam_times:a[1],qsn_id:a[2],qsn_sub_id:a[3],user_id:a[4],scoring:$("#scoring_"+b).val(),remark:escape($("#remark_"+b).val()),answer_status:c};validPositive(d.scoring)?void 0!=c?(a=window.L._adminUrl+"/paper/manualMarkingCtl.php?a=updateMarkingExamInfo",c="params="+L.JSON.stringify(d),$.ajax({type:"POST",async:!1,url:a,data:c,dataType:"json",success:function(a){"success"==a.res?
(oDialogDivInfo("\u8bc4\u5206\u6210\u529f"),window.parent.markingResetRemark(d.qsn_id,d.qsn_sub_id,d.answer_status,$("#remark_"+b).val(),a.info.user_exam_scoring)):oDialogDivInfo(a.info)},error:function(){oDialogDivInfo("\u8bc4\u5206\u5931\u8d25")}})):oDialogDivInfo("\u8bf7\u9009\u62e9\u8bc4\u5206\u7ed3\u679c"):oDialogDivInfo("\u5206\u6570\u5fc5\u987b\u4e3a\u6b63\u6570")}
function markingResetRemark(b,a,c,d,e){$("#user_scoring_div").html(e);examSetExamResult(b+a,parseInt(c));$("#remark_"+b+a).html(d);$("#is_marking_lab_"+b+a).html("(\u5df2\u8bc4)")};
